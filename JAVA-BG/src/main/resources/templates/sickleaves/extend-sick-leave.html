<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Extend Sick Leave</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
</head>
<body>
    <div th:replace="~{fragments :: navigation}"></div>
    <div class="container mt-4">
        <h1 class="mb-4">⏩ Extend Sick Leave</h1>
        
        <div class="card mb-3">
            <div class="card-header"><h5 class="mb-0">Current Information</h5></div>
            <div class="card-body">
                <p><strong>Leave Number:</strong> <span th:text="${sickLeave.leaveNumber}">SL-20260126-A1B2</span></p>
                <p><strong>Patient:</strong> <span th:text="${(sickLeave.recipe != null and sickLeave.recipe.customer != null) ? sickLeave.recipe.customer.name : 'N/A'}">Patient</span></p>
                <p><strong>Current Duration:</strong> <span th:text="${sickLeave.durationDays}">5</span> days</p>
                <p><strong>Current End Date:</strong> <span th:text="${#temporals.format(sickLeave.endDate, 'dd MMMM yyyy')}">31 January 2026</span></p>
            </div>
        </div>
        
        <form th:action="@{/sick-leaves/extend/{id}(id=${sickLeave.id})}" method="post">
            <div class="card">
                <div class="card-body">
                    <div class="mb-3">
                        <label for="additionalDays" class="form-label">Additional Days *</label>
                        <input type="number" name="additionalDays" id="additionalDays" class="form-control" min="1" required>
                        <small class="form-text text-muted">Number of additional days to extend the sick leave</small>
                    </div>
                    
                    <div class="mb-3">
                        <label for="reason" class="form-label">Reason for Extension *</label>
                        <textarea name="reason" id="reason" class="form-control" rows="3" required></textarea>
                    </div>
                </div>
            </div>
            
            <div class="mt-3">
                <button type="submit" class="btn btn-primary">⏩ Extend Sick Leave</button>
                <a th:href="@{/sick-leaves/view/{id}(id=${sickLeave.id})}" class="btn btn-secondary">❌ Cancel</a>
            </div>
        </form>
    </div>
    <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>
</html>
